<!DOCTYPE html>
<html lang="ko" dir=>

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Rust Basic 01">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Rust Basic 01" />
<meta property="og:description" content="Rust Basic 01" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://prokoptasis.github.io/docs/documents/backend/rust/rust01/" />

<title>Rust Basic 01 | Prokoptasis</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.001ba32d1ef4d2469d055e28d66fd96b16bfeddee698f1e2729af3a54ed86b8b.css" integrity="sha256-ABujLR700kadBV4o1m/Zaxa/7d7mmPHicprzpU7Ya4s=">
<script defer src="/ko.search.min.7b55fd987eb141a4ce7887e442778f63b3caff8ac0797c931ad9653e84af242a.js" integrity="sha256-e1X9mH6xQaTOeIfkQnePY7PK/4rAeXyTGtllPoSvJCo="></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-176412981-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
 
</head>

<body dir=>
    <input type="checkbox" class="hidden toggle" id="menu-control" />
    <input type="checkbox" class="hidden toggle" id="toc-control" />
    <main class="container flex">
        <aside class="book-menu">
             <nav>
<h2 class="book-brand" style="text-align: center;">
    <a href="/"><span>Prokoptasis</span>
  </a>
</h2>
<hr>

<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





 


  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Documents</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bc65bd57d9bab5039e9a79b5ae591c72" class="toggle"  />
    <label for="section-bc65bd57d9bab5039e9a79b5ae591c72" class="flex justify-between">
      <a href="http://prokoptasis.github.io/docs/documents/projects/" class="">Projects</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/projects/hugogirl/" class="">hU-Go-Girl</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-53481227639f164d3f7ead2411c43315" class="toggle"  />
    <label for="section-53481227639f164d3f7ead2411c43315" class="flex justify-between">
      <a href="http://prokoptasis.github.io/docs/documents/frontend/" class="">Front End</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/frontend/markdown/" class="">Markdown</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7cff03fc158d9929dd882d45e5e83f84" class="toggle" checked />
    <label for="section-7cff03fc158d9929dd882d45e5e83f84" class="flex justify-between">
      <a href="http://prokoptasis.github.io/docs/documents/backend/" class="">Back End</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0480d4c0a3a48973d66dda9e8e9d50da" class="toggle" checked />
    <label for="section-0480d4c0a3a48973d66dda9e8e9d50da" class="flex justify-between">
      <a href="http://prokoptasis.github.io/docs/documents/backend/rust/" class="">Rust</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/backend/rust/rust01/" class=" active">Rust Basic 01</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/backend/rust/rust02/" class="">Rust Basic 02</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0d89b8a13399f7331f6db819807b653c" class="toggle"  />
    <label for="section-0d89b8a13399f7331f6db819807b653c" class="flex justify-between">
      <a href="http://prokoptasis.github.io/docs/documents/backend/go/" class="">Go</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/backend/go/go01/" class="">GO Basic 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/backend/go/go02/" class="">GO Basic 2</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-47bd3d4bf94d414a097efcbbc9ad3f79" class="toggle"  />
    <label for="section-47bd3d4bf94d414a097efcbbc9ad3f79" class="flex justify-between">
      <a href="http://prokoptasis.github.io/docs/documents/backend/sql/" class="">SQL</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/backend/sql/sql01/" class="">SQL Basic 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/backend/sql/sql02/" class="">SQL Basic 2</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-08315e14cb91d15111d683212f692de5" class="toggle"  />
    <label for="section-08315e14cb91d15111d683212f692de5" class="flex justify-between">
      <a href="http://prokoptasis.github.io/docs/documents/deeplearning/" class="">Deep Learning</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/deeplearning/machinelearning/" class="">Machine Learning</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/deeplearning/tensorflow/" class="">Tensorflow</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ae112940aeb03e8cb2e77b93d2c01134" class="toggle"  />
    <label for="section-ae112940aeb03e8cb2e77b93d2c01134" class="flex justify-between">
      <a href="http://prokoptasis.github.io/docs/documents/english/" class="">English</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/english/seulsam/" class="">Seulsam</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://prokoptasis.github.io/docs/documents/english/pickedup/" class="">Picked Up English</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>










 
<ul>
    
    <li>
        <a href="/posts/" >
        Blog
      </a>
    </li>
    
    <li>
        <a href="mailto:c.exigua@gmail.com" target="_blank" rel="noopener" >
        Gmail
      </a>
    </li>
    
    <li>
        <a href="https://github.com/prokoptasis/prokoptasis" target="_blank" rel="noopener" >
        Github
      </a>
    </li>
    
    <li>
        <a href="https://twitter.com/prokoptasis" target="_blank" rel="noopener" >
        Twitter
      </a>
    </li>
    
    <li>
        <a href="https://www.facebook.com/c.exigua/" target="_blank" rel="noopener" >
        Facebook
      </a>
    </li>
    
</ul>
<br>
<hr>
<div style="display: block; text-align: center;">
    <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="prokoptasis" data-color="#e9e9e9" data-emoji="" data-font="Arial" data-text="" data-outline-color="#000" data-font-color="#000"
        data-coffee-color="#6f4e37"></script>
</div>
  

</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>

 
            
        </aside>

        <div class="book-page">
            <header class="book-header">
                 <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Rust Basic 01</strong>

  <label for="toc-control">
    
  </label>
</div>
  
                
            </header>

            
<article class="markdown"><h2 id="rust-basic-1">
  Rust Basic 1
  <a class="anchor" href="#rust-basic-1">#</a>
</h2>
<hr>
<p>Rust는 시스템 레벨의 프로그래밍 언어. C/C++의 대체 언어의 특성. 타입 안전성, 메모리 안전성, 동시성, 그리고 성능에도 초점을 맞추어 대규모, 고성능 소프트웨어의 개발을 작성하도록 설계됨. 무효한 메모리 접근을 예방하기 위해 빌림 검사와 같은 독특한 특성을 지님.</p>
<p>하기 링크 참조.</p>
<ul>
<li><a href="https://doc.rust-lang.org/1.30.0/book/second-edition/foreword.html/" target="_blank" rel="noopener">The Rust Programming Language</a></li>
<li><a href="https://rinthel.github.io/rust-lang-book-ko/" target="_blank" rel="noopener">The Rust Programming Language (KOR)</a></li>
</ul>
<h3 id="hello-world">
  Hello World
  <a class="anchor" href="#hello-world">#</a>
</h3>
<p>Hello World</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust">cargo init rust_hello <span style="color:#f92672">--</span>bin
cd rust_hello
cargo run
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Hello, world!&#34;</span>);
}

</code></pre></div><h3 id="guessing-game">
  Guessing Game
  <a class="anchor" href="#guessing-game">#</a>
</h3>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>source</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">extern</span> <span style="color:#66d9ef">crate</span> rand;

<span style="color:#66d9ef">use</span> rand::Rng;
<span style="color:#66d9ef">use</span> std::cmp::Ordering;
<span style="color:#66d9ef">use</span> std::io;

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#75715e">// 첫 줄 출력
</span><span style="color:#75715e"></span>	println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Guess the number!&#34;</span>);

	<span style="color:#75715e">// 1 부터 100까지의 숫자를 Rangdom으로 생성 후 secret_nmber로 선언
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> secret_number <span style="color:#f92672">=</span> rand::thread_rng().gen_range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">101</span>);

    <span style="color:#66d9ef">loop</span> {
		<span style="color:#75715e">// 질문 출력
</span><span style="color:#75715e"></span>        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Please input your guess.&#34;</span>);

		<span style="color:#75715e">// guess를 mutable 형태의 string으로 생성
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> guess <span style="color:#f92672">=</span> String::new();

		<span style="color:#75715e">// guess의 입력을 받음
</span><span style="color:#75715e"></span>        io::stdin()
            .read_line(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> guess)
            .expect(<span style="color:#e6db74">&#34;Failed to read line&#34;</span>);

		<span style="color:#75715e">// guess를 trim하고 숫자로 전환
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">let</span> guess: <span style="color:#66d9ef">u32</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">match</span> guess.trim().parse() {
            Ok(num) <span style="color:#f92672">=&gt;</span> num,
            Err(_) <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">continue</span>,
        };

		<span style="color:#75715e">// 사용자의 guess를 재출력
</span><span style="color:#75715e"></span>        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;You guessed: {}&#34;</span>, guess);

		<span style="color:#75715e">// secret_number의 숫자를 비교하여 결과를 출력
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">match</span> guess.cmp(<span style="color:#f92672">&amp;</span>secret_number) {
            Ordering::Less <span style="color:#f92672">=&gt;</span> println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Too small!&#34;</span>),
            Ordering::Greater <span style="color:#f92672">=&gt;</span> println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Too big!&#34;</span>),
            Ordering::Equal <span style="color:#f92672">=&gt;</span> {
                println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;You win!&#34;</span>);
                <span style="color:#66d9ef">break</span>;
            }
        }
    }
}
</code></pre></div>
    </div>
  </label>
</div>


<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>source check</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">let</span> foo <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;	<span style="color:#75715e">// immutable
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> bar <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;	<span style="color:#75715e">// mutable
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> baz <span style="color:#f92672">=</span> String::new();
</code></pre></div><p>기본적으로 let과 let mut은 변수의 가변성에 차이를 두고 다르게 선언하는 것을 의미.String::new는 String타입의 연관함수로 OO에서 클래스의 인스턴스 없이 호출할 수 있는 정적 메소드와 동일.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust">io::stdin()
	.read_line(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> guess)
	.expect(<span style="color:#e6db74">&#34;Failed to read line&#34;</span>);
</code></pre></div><p>프로그램의 시작점에 &lsquo;use std::io&rsquo;로 명시되었기 때문에 함수 호출시의 io::stdin은 표준 입력 핸들 타입인 std::io::Stdin을 돌려줌. &amp;mut guess를 넘겨받아 사용자의 입력을 저장하게 됨. 이때 사용자의 입력은 지속적으로 추가됨으로 가변 문자열이어야 함. 이때 &lsquo;&amp;mut&rsquo; 인 이유는 Rust에서는 &lsquo;&amp;&rsquo; c참조자의 기본 속성이 안전성을 위해 Immutable임으로 명시적으로 가변임을 지정할 필요가 있음. &lsquo;.expect&rsquo; 는 에러를 처리하는 메소드로 인스터스가 Error를 낼 경우 해당 메세지를 출력하며 동작을 멈추게 됨. 만일 &lsquo;expec&rsquo;없이 컴파일 한다면 경고가 표시됨.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#75715e">// place holder
</span><span style="color:#75715e"></span>println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;You guessed: {}&#34;</span>, guess);
<span style="color:#75715e">// place holder 지정
</span><span style="color:#75715e"></span>println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;You guessed: {g} number {n}&#34;</span>, g<span style="color:#f92672">=</span> guess,n <span style="color:#f92672">=</span> number);
</code></pre></div><p>위 문장에서 &lsquo;{}&rsquo; 부분은 변경자(Place Holder)로 guess의 표시 위치를 나타냄. 하나 이상의 Place Holder를 아래처럼 지정하여 사용할 수도 있음.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml"><span style="color:#960050;background-color:#1e0010">//</span> <span style="color:#a6e22e">Cargo</span>.<span style="color:#a6e22e">toml</span>
[<span style="color:#a6e22e">dependencies</span>]
<span style="color:#a6e22e">rand</span> = <span style="color:#e6db74">&#34;0.4.0&#34;</span>
</code></pre></div><p>Random 처리를 위해 Cargo.toml에 의존성을 추가하여 rand crate를 명시함.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">match</span> guess.cmp(<span style="color:#f92672">&amp;</span>secret_number) {
            Ordering::Less <span style="color:#f92672">=&gt;</span> println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Too small!&#34;</span>),
            Ordering::Greater <span style="color:#f92672">=&gt;</span> println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Too big!&#34;</span>),
            Ordering::Equal <span style="color:#f92672">=&gt;</span> {
                println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;You win!&#34;</span>);
                <span style="color:#66d9ef">break</span>;
			}
</code></pre></div><p>사용자가 입력한 guess 숫자와 Random으로 생성된 secret_number를 비교하는 메소드. std 표준 라이브러리로부터 std::cmp::Ordering Scope를 가져와서 Ordering 타입을 사용하는 형태.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">let</span> guess: <span style="color:#66d9ef">u32</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">match</span> guess.trim().parse() {
	Ok(num) <span style="color:#f92672">=&gt;</span> num,
	Err(_) <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">continue</span>,
};
</code></pre></div><p>입력된 guess의 문자열을 secret_number와 비교하기 위해 숫자로 바꾸는 라인. 기존 guess 변수를 triming된 숫자로 Shadowing하여 재사용하는 방식으로 구현됨. &lsquo;guess.trim()&lsquo;을 통해 사용자 입력시 들어온 Enter의 개행문자를 제거하고 &lsquo;parse()&lsquo;를 통해 숫자열로 파싱.  이때 u32와 같이 정확한 타입을 명시해야함. 사용자가 입력한 숫자에 특수문자 같은 것이 포함되어 u32로 전환할 수 없을 경우를 대비해서 expect와 같은 별도 처리가 필요할 수도 있음. 여기서는 Error가 들어올경우 continue를 통해 다음 Loop로 다시 시작되도록 처리 됨.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">loop</span> {
...
<span style="color:#66d9ef">match</span> guess.cmp(<span style="color:#f92672">&amp;</span>secret_number) {
		...
		Ordering::Equal <span style="color:#f92672">=&gt;</span> {
			println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;You win!&#34;</span>);
			<span style="color:#66d9ef">break</span>;
		}
}
</code></pre></div><p>main 프로그램은 Ordering::Equal이 나올때까지 Loop로 들어가 반복되며 수행됨.</p>

    </div>
  </label>
</div>

<h3 id="common-programming-concepts">
  Common Programming Concepts
  <a class="anchor" href="#common-programming-concepts">#</a>
</h3>
<p>Variables / Mutability / Data Types</p>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>variables / mutability / data types</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#75715e">// immutable
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;The value of x is: {}&#34;</span>, x);
    <span style="color:#75715e">// x = 7; // connot assign twice to immutable variable
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;The value of x is: {}&#34;</span>, x);

    <span style="color:#75715e">// shadowing
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;The value of x is: {}&#34;</span>, x);

    <span style="color:#75715e">// shadowing 2
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> spaces <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;   &#34;</span>;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Spaces: {}&#34;</span>, spaces);
    <span style="color:#66d9ef">let</span> spaces <span style="color:#f92672">=</span> spaces.len();
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Spaces: {}&#34;</span>, spaces);

    <span style="color:#75715e">// mutable
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;The value of x is: {}&#34;</span>, x);
    x <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>; <span style="color:#75715e">// connot assign twice to immutable variable
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;The value of x is: {}&#34;</span>, x);

    <span style="color:#75715e">// mutable
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> spaces <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;   &#34;</span>;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Spaces: {}&#34;</span>, spaces);
    <span style="color:#75715e">// spaces = spaces.len(); //expected `&amp;str`, found `usize`
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Spaces: {}&#34;</span>, spaces);

    <span style="color:#75715e">// const
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> MAX_POINTS: <span style="color:#66d9ef">u32</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100_000</span>;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;MAX_POINTS: {}&#34;</span>, MAX_POINTS);

    <span style="color:#75715e">// let guess = &#34;42&#34;.parse().expect(&#34;Not a number!&#34;); // consider giving `guess` a type
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> guess: <span style="color:#66d9ef">u32</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;42&#34;</span>.parse().expect(<span style="color:#e6db74">&#34;Not a number!&#34;</span>);

    <span style="color:#75715e">// float
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> f1: <span style="color:#66d9ef">f64</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.0</span>;
    <span style="color:#66d9ef">let</span> f2: <span style="color:#66d9ef">f32</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.0</span>;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{},{}&#34;</span>, f1, f2);

    <span style="color:#75715e">// let addition
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span>;
    <span style="color:#75715e">// let subtraction
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> difference <span style="color:#f92672">=</span> <span style="color:#ae81ff">95.5</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">4.3</span>;
    <span style="color:#75715e">// let multiplication
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> product <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">30</span>;
    <span style="color:#75715e">// let division
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> quotient <span style="color:#f92672">=</span> <span style="color:#ae81ff">56.7</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">32.2</span>;
    <span style="color:#75715e">// let remainder
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> remainder <span style="color:#f92672">=</span> <span style="color:#ae81ff">43</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">5</span>;

    println<span style="color:#f92672">!</span>(
        <span style="color:#e6db74">&#34;let calc {},{},{},{},{}&#34;</span>,
        sum, difference, product, quotient, remainder
    );

    <span style="color:#75715e">// boolean
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> t <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
    <span style="color:#66d9ef">let</span> f: <span style="color:#66d9ef">bool</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;

    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;let bool {},{}&#34;</span>, t, f);

    <span style="color:#75715e">// character
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> c <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;z&#39;</span>;
    <span style="color:#66d9ef">let</span> z <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;ℤ&#39;</span>;
    <span style="color:#66d9ef">let</span> cat <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;😻&#39;</span>;

    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;let char {},{},{}&#34;</span>, c, z, cat);

    <span style="color:#75715e">// tuple
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> tup: (<span style="color:#66d9ef">i32</span>, <span style="color:#66d9ef">f64</span>, <span style="color:#66d9ef">u8</span>) <span style="color:#f92672">=</span> (<span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">6.4</span>, <span style="color:#ae81ff">1</span>);
    <span style="color:#66d9ef">let</span> (x, y, z) <span style="color:#f92672">=</span> tup;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;x : {}, y : {}, z : {}&#34;</span>, x, y, z);

    <span style="color:#66d9ef">let</span> x: (<span style="color:#66d9ef">i32</span>, <span style="color:#66d9ef">f64</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>) <span style="color:#f92672">=</span>
        (<span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">6.4</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>);
    <span style="color:#66d9ef">let</span> five_hundred <span style="color:#f92672">=</span> x.<span style="color:#ae81ff">0</span>;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;five_hundred : {}, x11 : {}&#34;</span>, five_hundred, x.<span style="color:#ae81ff">11</span>);

    <span style="color:#75715e">// Array
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> ary <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>];
    <span style="color:#66d9ef">let</span> mon <span style="color:#f92672">=</span> [
        <span style="color:#e6db74">&#34;Jan&#34;</span>, <span style="color:#e6db74">&#34;Feb&#34;</span>, <span style="color:#e6db74">&#34;Mar&#34;</span>, <span style="color:#e6db74">&#34;Apr&#34;</span>, <span style="color:#e6db74">&#34;May&#34;</span>, <span style="color:#e6db74">&#34;Jun&#34;</span>, <span style="color:#e6db74">&#34;Jul&#34;</span>, <span style="color:#e6db74">&#34;Aug&#34;</span>, <span style="color:#e6db74">&#34;Sep&#34;</span>, <span style="color:#e6db74">&#34;Oct&#34;</span>, <span style="color:#e6db74">&#34;Nov&#34;</span>, <span style="color:#e6db74">&#34;Dec&#34;</span>,
    ];

    <span style="color:#66d9ef">let</span> index <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
    <span style="color:#75715e">// let index = 12; // panicked at &#39;index out of bounds: the len is 12 but the index is 12&#39;
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">let</span> frst <span style="color:#f92672">=</span> ary[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">let</span> scnd <span style="color:#f92672">=</span> mon[<span style="color:#ae81ff">1</span>];
    <span style="color:#66d9ef">let</span> thrd <span style="color:#f92672">=</span> mon[index];

    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;frst : {} , scnd : {} , thrd : {}&#34;</span>, frst, scnd, thrd);
}
</code></pre></div>
    </div>
  </label>
</div>

<p>Functions</p>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>functions</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Hello, world!&#34;</span>);
    <span style="color:#75715e">// function
</span><span style="color:#75715e"></span>    function_a();

    <span style="color:#75715e">// function parameter
</span><span style="color:#75715e"></span>    function_b(<span style="color:#ae81ff">3</span>);

    <span style="color:#75715e">// function parameters
</span><span style="color:#75715e"></span>    function_c(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>);

    <span style="color:#75715e">// statement
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> stmt1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;stmt1 : {}&#34;</span>, stmt1);
    <span style="color:#75715e">// let stmt1 = (let stmt2 = 5); // variable declaration using `let` is a statement
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> stmt1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;

    <span style="color:#75715e">// expression
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> stmt2 <span style="color:#f92672">=</span> {
        <span style="color:#66d9ef">let</span> stmt1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
        stmt1 <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
    };
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;stmt1 : {}, stmt2 : {}&#34;</span>, stmt1, stmt2);

    <span style="color:#75715e">// function with return values
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> stmt3 <span style="color:#f92672">=</span> function_d();
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;stmt3 : {}&#34;</span>, stmt3);

    <span style="color:#75715e">// function with return values
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> stmt4 <span style="color:#f92672">=</span> function_e(<span style="color:#ae81ff">5</span>);
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;stmt4 : {}&#34;</span>, stmt4);
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">function_a</span>() {
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;Hello, again!&#34;</span>)
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">function_b</span>(x: <span style="color:#66d9ef">i32</span>) {
    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">0</span>..x {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} : Hello, again!&#34;</span>, i)
    }
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">function_c</span>(x: <span style="color:#66d9ef">i32</span>, y: <span style="color:#66d9ef">i32</span>) {
    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> x..y {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}: Hello, again! {},{}&#34;</span>, i, x, y)
    }
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">function_d</span>() -&gt; <span style="color:#66d9ef">i32</span> {
    <span style="color:#ae81ff">5</span>
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">function_e</span>(x: <span style="color:#66d9ef">i32</span>) -&gt; <span style="color:#66d9ef">i32</span> {
    <span style="color:#75715e">// without semicolon
</span><span style="color:#75715e"></span>    x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
}

</code></pre></div>
    </div>
  </label>
</div>

<p>Contrl Flow</p>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>control flow</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#75715e">// if else 1
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> number <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;

    <span style="color:#66d9ef">if</span> number <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} condition was true&#34;</span>, number);
    } <span style="color:#66d9ef">else</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} condition was false&#34;</span>, number);
    };

    <span style="color:#75715e">// if else 2
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> number <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;

    <span style="color:#66d9ef">if</span> number <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} condition was true&#34;</span>, number);
    } <span style="color:#66d9ef">else</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} condition was false&#34;</span>, number);
    };

    <span style="color:#75715e">// if else 3
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> number <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} number was soething other than zero&#34;</span>, number);
    };

    <span style="color:#75715e">// if else 4
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> number <span style="color:#f92672">%</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} number is divisible by 4&#34;</span>, number)
    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> number <span style="color:#f92672">%</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} number is divisible by 3&#34;</span>, number)
    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> number <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} number is divisible by 2&#34;</span>, number)
    } <span style="color:#66d9ef">else</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{} number is not divisible by 4,3,2&#34;</span>, number)
    };

    <span style="color:#75715e">// if with let
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> cond <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
    <span style="color:#66d9ef">let</span> numb <span style="color:#f92672">=</span> <span style="color:#66d9ef">if</span> cond { <span style="color:#ae81ff">5</span> } <span style="color:#66d9ef">else</span> { <span style="color:#ae81ff">6</span> };

    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;This value of numb is : {}&#34;</span>, numb);

    <span style="color:#75715e">// while
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> numc <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
    <span style="color:#66d9ef">while</span> numc <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, numc);
        numc <span style="color:#f92672">=</span> numc <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
    }
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;numc : {}&#34;</span>, numc);

    <span style="color:#75715e">// for collection
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> arry <span style="color:#f92672">=</span> [<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">40</span>, <span style="color:#ae81ff">50</span>];
    <span style="color:#66d9ef">for</span> elem <span style="color:#66d9ef">in</span> arry.iter() {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;the value is: {}&#34;</span>, elem);
    }

    <span style="color:#75715e">// for range rev
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> numd <span style="color:#66d9ef">in</span> (<span style="color:#ae81ff">1</span>..<span style="color:#ae81ff">4</span>).rev() {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}!&#34;</span>, numd);
    }
}
</code></pre></div>
    </div>
  </label>
</div>

<h3 id="understanding-ownership">
  Understanding Ownership
  <a class="anchor" href="#understanding-ownership">#</a>
</h3>
<p><img src="../../../../../201026_01_rust_stack_and_heap.png" alt="stakc vs heap" /></p>
<p>Stack vs Heap
스택은 값을 받아들인 순서대로 저장하고 반대 방향으로 값을 지우는 방식. (Last In, First Out) 힙은 특정 공간을 할당하고 위치 검색을 통해 값을 불러 오는 방식.</p>
<table>
<thead>
<tr>
<th style="text-align:center">구분</th>
<th style="text-align:center">Stack</th>
<th style="text-align:center">Heap</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">관리</td>
<td style="text-align:center">CPU</td>
<td style="text-align:center">Programmer</td>
</tr>
<tr>
<td style="text-align:center">속도</td>
<td style="text-align:center">빠름</td>
<td style="text-align:center">느림</td>
</tr>
<tr>
<td style="text-align:center">범위</td>
<td style="text-align:center">지역</td>
<td style="text-align:center">전역</td>
</tr>
<tr>
<td style="text-align:center">크기</td>
<td style="text-align:center">제한</td>
<td style="text-align:center">제한없음</td>
</tr>
</tbody>
</table>
<p>Shallow Copy vs Deep Copy
Rust는 Shallow Copy를 Move라 표현. 명시적으로 표시하지 않는 이상 Deep Copy는 발생되지 않음.</p>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>ownership</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#75715e">// move
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> str1 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;hello&#34;</span>);
    <span style="color:#66d9ef">let</span> str2 <span style="color:#f92672">=</span> str1; <span style="color:#75715e">// shallow copy
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">//println!(&#34;{}&#34;, str1); // move occurs because `str1` has type `std::string::String`
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, str2);

    <span style="color:#75715e">// function takes ownership
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> str3 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;world&#34;</span>);
    take_owns(str3);

    <span style="color:#75715e">//println!(&#34;{}&#34;, str3); //value borrowed here after move
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// integer copy to function
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> intg <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
    make_copy(<span style="color:#ae81ff">5</span>);
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, intg);

    <span style="color:#75715e">//
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> str4 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;again&#34;</span>);
    <span style="color:#66d9ef">let</span> str5 <span style="color:#f92672">=</span> take_back(str4);

    <span style="color:#75715e">//println!(&#34;{}&#34;, str4); //move occurs because `str4` has type `std::string::String`
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, str5);

    <span style="color:#75715e">// Reference
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> str6 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;This is a pen&#34;</span>);
    <span style="color:#66d9ef">let</span> leng <span style="color:#f92672">=</span> calc_leng(<span style="color:#f92672">&amp;</span>str6);
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;The length of &#39;{}&#39; is {}&#34;</span>, str6, leng);

    <span style="color:#75715e">// Reference
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> str7 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;This is a book&#34;</span>);
    chng_strg(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> str7);
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, str7);

    <span style="color:#75715e">// Reference mutable
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> str8 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;text1&#34;</span>);
    <span style="color:#66d9ef">let</span> str9 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> str8; <span style="color:#75715e">//first mutable borrow occurs here
</span><span style="color:#75715e"></span>                          <span style="color:#75715e">// let str10 = &amp;mut str8; //second mutable borrow occurs here
</span><span style="color:#75715e"></span>
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, str9);
    <span style="color:#75715e">// println!(&#34;{}&#34;, str10)
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// Reference mutable 1
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> str11 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;text2&#34;</span>);
    {
        <span style="color:#66d9ef">let</span> str12 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> str11;
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, str12);
    }

    <span style="color:#66d9ef">let</span> str13 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> str11;
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, str13);

    <span style="color:#75715e">// Reference mutable 2
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> str14 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;text3&#34;</span>);

    <span style="color:#66d9ef">let</span> str15 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>str14;
    <span style="color:#66d9ef">let</span> str16 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>str14;
    <span style="color:#75715e">// let str17 = &amp;mut str14; //mutable borrow occurs here
</span><span style="color:#75715e"></span>
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, str15);
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, str16);
    <span style="color:#75715e">// println!(&#34;{}&#34;, str17);
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// dangling references
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> noth <span style="color:#f92672">=</span> dang_refr();
    println<span style="color:#f92672">!</span>();

    <span style="color:#75715e">// slice
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> str17 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;fffirst words&#34;</span>);
    <span style="color:#66d9ef">let</span> str18 <span style="color:#f92672">=</span> frst_word(<span style="color:#f92672">&amp;</span>str17);
    str17.clear();
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, str18);

    <span style="color:#75715e">// string slice
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> str19 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;hello world&#34;</span>);
    <span style="color:#66d9ef">let</span> str20 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>str19[<span style="color:#ae81ff">0</span>..<span style="color:#ae81ff">5</span>];
    <span style="color:#66d9ef">let</span> str21 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>str19[<span style="color:#ae81ff">6</span>..<span style="color:#ae81ff">11</span>];
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{},{},{}&#34;</span>, str19, str20, str21);

    <span style="color:#66d9ef">let</span> str22 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>str19[..<span style="color:#ae81ff">5</span>];
    <span style="color:#66d9ef">let</span> leng <span style="color:#f92672">=</span> str19.len();
    <span style="color:#66d9ef">let</span> str23 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>str19[<span style="color:#ae81ff">6</span>..leng];

    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{},{},{}&#34;</span>, str22, leng, str23);

    <span style="color:#75715e">// literal slice
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> str24 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;hello world&#34;</span>);
    <span style="color:#66d9ef">let</span> str25 <span style="color:#f92672">=</span> frst_word_s(<span style="color:#f92672">&amp;</span>str24);
    <span style="color:#75715e">// str24.clear(); // mutable borrow occurs here
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;str25 {}&#34;</span>, str25);

    <span style="color:#75715e">// literal slice
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> str26 <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;hello world&#34;</span>);
    <span style="color:#66d9ef">let</span> str27 <span style="color:#f92672">=</span> frst_word_s(<span style="color:#f92672">&amp;</span>str26[..]);
    <span style="color:#66d9ef">let</span> str28 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;HELLO WORLD&#34;</span>;
    <span style="color:#66d9ef">let</span> str27 <span style="color:#f92672">=</span> frst_word_s(<span style="color:#f92672">&amp;</span>str28[..]);
    <span style="color:#66d9ef">let</span> str27 <span style="color:#f92672">=</span> frst_word_s(str28);
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;str27 {}&#34;</span>, str27);

    <span style="color:#75715e">// etc slice
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> intg <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>];
    <span style="color:#66d9ef">let</span> ints <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>intg[<span style="color:#ae81ff">1</span>..<span style="color:#ae81ff">3</span>];
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}{}&#34;</span>, ints[<span style="color:#ae81ff">0</span>], ints[<span style="color:#ae81ff">1</span>])
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">take_owns</span>(strg: String) {
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, strg);
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">make_copy</span>(intg: <span style="color:#66d9ef">i32</span>) {
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, intg);
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">take_back</span>(strg: String) -&gt; String {
    strg
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">calc_leng</span>(strg: <span style="color:#66d9ef">&amp;</span>String) -&gt; <span style="color:#66d9ef">usize</span> {
    strg.len()
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">chng_strg</span>(strg: <span style="color:#66d9ef">&amp;</span><span style="color:#a6e22e">mut</span> String) {
    strg.push_str(<span style="color:#e6db74">&#34;,Hello?&#34;</span>);
}

<span style="color:#75715e">// this function&#39;s return type contains a borrowed value
</span><span style="color:#75715e">// fn dang_refr() -&gt; &amp;String {
</span><span style="color:#75715e">//     let strg = String::from(&#34;Eh?&#34;);
</span><span style="color:#75715e">//     &amp;strg
</span><span style="color:#75715e">// }
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">dang_refr</span>() -&gt; String {
    <span style="color:#66d9ef">let</span> strg <span style="color:#f92672">=</span> String::from(<span style="color:#e6db74">&#34;Eh?&#34;</span>);
    strg
}

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">frst_word</span>(strg: <span style="color:#66d9ef">&amp;</span>String) -&gt; <span style="color:#66d9ef">usize</span> {
    <span style="color:#66d9ef">let</span> bytes <span style="color:#f92672">=</span> strg.as_bytes();

    <span style="color:#66d9ef">for</span> (i, <span style="color:#f92672">&amp;</span>item) <span style="color:#66d9ef">in</span> bytes.iter().enumerate() {
        <span style="color:#66d9ef">if</span> item <span style="color:#f92672">==</span> <span style="color:#e6db74">b&#39; &#39;</span> {
            <span style="color:#66d9ef">return</span> i;
        }
    }
    strg.len()
}

<span style="color:#75715e">// fn frst_word_s(strg: &amp;String) -&gt; &amp;str {
</span><span style="color:#75715e">//     let bytes = strg.as_bytes();
</span><span style="color:#75715e"></span>
<span style="color:#75715e">//     for (i, &amp;item) in bytes.iter().enumerate() {
</span><span style="color:#75715e">//         if item == b&#39; &#39; {
</span><span style="color:#75715e">//             return &amp;strg[0..i];
</span><span style="color:#75715e">//         }
</span><span style="color:#75715e">//     }
</span><span style="color:#75715e">//     &amp;strg[..]
</span><span style="color:#75715e">// }
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">frst_word_s</span>(strg: <span style="color:#66d9ef">&amp;</span><span style="color:#66d9ef">str</span>) -&gt; <span style="color:#66d9ef">&amp;</span><span style="color:#66d9ef">str</span> {
    <span style="color:#66d9ef">let</span> bytes <span style="color:#f92672">=</span> strg.as_bytes();

    <span style="color:#66d9ef">for</span> (i, <span style="color:#f92672">&amp;</span>item) <span style="color:#66d9ef">in</span> bytes.iter().enumerate() {
        <span style="color:#66d9ef">if</span> item <span style="color:#f92672">==</span> <span style="color:#e6db74">b&#39; &#39;</span> {
            <span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span>strg[<span style="color:#ae81ff">0</span>..i];
        }
    }
    <span style="color:#f92672">&amp;</span>strg[..]
}
</code></pre></div>
    </div>
  </label>
</div>

<br>
<span style="float:left"><a href="../"><< 이전글</a></span>
<span style="float:right"><a href="../rust02">다음글 >></a></span>
</article>

            
            

            <footer class="book-footer">
                 <div class="flex flex-wrap justify-between">





</div>
 
                
                
            </footer>

             
<div class="book-comments">
<br>
<br>
<hr> </hr>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "prokoptasis" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div>
 
            

            <label for="menu-control" class="hidden book-menu-overlay"></label>
        </div>

        
    </main>

    
</body>

</html>

     